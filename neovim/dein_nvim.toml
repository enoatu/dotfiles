[[plugins]]
repo = 'Shougo/dein.vim'

#ã‹ã£ã“ã‚ˆã
[[plugins]]
repo    = 'vim-airline/vim-airline'
depends = ['vim-airline-themes']

#è¦‹ã‚„ã™ã
[[plugins]]
repo = 'vim-airline/vim-airline-themes'

#ãƒ†ãƒ¼ãƒ
#addã˜ã‚ƒãªã„ã¨å‹•ã‹ãªã„
[[plugins]]
repo = 'rakr/vim-one'
hook_add = '''
filetype plugin indent on

syntax enable
colorscheme one

" tmux
set t_8b=[48;2;%lu;%lu;%lum
set t_8f=[38;2;%lu;%lu;%lum

let g:airline_theme = 'one'
" powerline enable(æœ€åˆã«è¨­å®šã—ãªã„ã¨ãƒ€ãƒ¡)
let g:airline_powerline_fonts = 1
" ã‚¿ãƒ–ãƒãƒ¼ã‚’ã‹ã£ã“ã‚ˆã
let g:airline#extensions#tabline#enabled = 1
" é¸æŠè¡Œåˆ—ã®è¡¨ç¤ºã‚’ã‚«ã‚¹ã‚¿ãƒ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨é•·ãã¦æ¨ªå¹…ã‚’åœ§è¿«ã™ã‚‹ã®ã§æœ€å°é™ã«)
let g:airline_section_z = airline#section#create(['windowswap', '%3p%% ', 'linenr', ':%3v'])
" gitã®HEADã‹ã‚‰å¤‰æ›´ã—ãŸè¡Œã®+-ã‚’éè¡¨ç¤º(vim-gitgutterã®æ‹¡å¼µ)
let g:airline#extensions#hunks#enabled = 0
'''

##ã‚¢ã‚¤ã‚³ãƒ³ for ãƒ†ãƒ¼ãƒ
#[[plugins]]
#repo = 'ryanoasis/vim-devicons'
#
# ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆè¡¨ç¤º
[[plugins]]
repo = 'Yggdroot/indentLine'
hook_add = '''
autocmd BufNewFile,BufRead,BufEnter * :let g:indentLine_setConceal = (&ft=='json' ? 0 : 1)
'''

# æ‹¬å¼§ã«åˆ¥ã€…ã®è‰²ã‚’ä»˜ã‘ã‚‹
[[plugins]]
repo = 'luochen1990/rainbow'
hook_add = '''
    let g:rainbow_active = 1
'''

# rgb
[[plugins]]
repo = 'lilydjwg/colorizer'

#:Gdiffã¨æ‰“ã¤ã¨HEADã¨ç¾åœ¨ã®çŠ¶æ…‹ã‚’æ¯”è¼ƒã§ãã‚‹
#:Glog = git log
#:Gdiff ã‚³ãƒŸãƒƒãƒˆç•ªå·ã§ãã®diffã‚’ã¨ã‚Œã‚‹
#:Gread HEAD^^:%
#:Gblameã§ã‚³ãƒŸãƒƒãƒˆè©³ç´°ã¿ã‚Œã‚‹
#:Gstatus = git status
#:Gwrite [path]
#:Gcommit
#:Gdiff [fugitive-revision]
#:Gedit [fugitive-revision]
#:Gmove [destination]
#:Gremove
#:Glog [args]
#:Gpush [args]
#:Gfetch [args]
#:Gmerge [args]
#:Gpull [args]
[[plugins]]
repo = 'tpope/vim-fugitive'
# github/gitlab tokenå¿…è¦ãªã®ã§è€ƒãˆã‚‹
#[[plugins]]
#repo = 'tpope/vim-rhubarb'
[[plugins]]
repo = 'shumphrey/fugitive-gitlab.vim'

# bufferlist(lazyã§ã¯ã§ããªã„)
[[plugins]]
#repo = '~/MyDevelopment/vim-bufferlist'
repo = 'enoatu/vim-bufferlist'
hook_add = '''
let g:BufferListMaxWidth = 100
map <C-k> :call BufferList()<CR>
'''

#gitã§ç®¡ç†ã—ã¦ã‚‹å ´åˆã€å·¦å´ã«å·®åˆ†ã‚’è¡¨ç¤º
[[plugins]]
repo = 'airblade/vim-gitgutter'
hook_add = '''
"ç”»é¢ã‚’ã‚¬ã‚¿ã‚¬ã‚¿è¨€ã‚ã›ãªã„
set signcolumn=yes

"ã‚¿ã‚¤ãƒ”ãƒ³ã‚°çµ‚äº†å¾Œã™ãã«åæ˜ ã™ã‚‹
set updatetime=200

"master
let s:switchGutter=1
noremap m :call SwitchGutter()<CR>
function! SwitchGutter()
    if (s:switchGutter == 1)
        let g:gitgutter_diff_base = 'origin/main'
        let s:switchGutter=2
        echo "switchGutter: origin/main"
    elseif (s:switchGutter == 2)
        let g:gitgutter_diff_base = 'origin/dev'
        let s:switchGutter=3
        echo "switchGutter: origin/dev"
    elseif (s:switchGutter == 3)
        echo "switchGutter: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ"
        let s:switchGutter=4
        let g:gitgutter_diff_base = ''
    elseif (s:switchGutter == 4)
        echo "switchGutter: origin/master"
        let s:switchGutter=5
        let g:gitgutter_diff_base = 'origin/master'
    elseif (s:switchGutter == 5)
        echo "switchGutter: origin/staging"
        let s:switchGutter=1
        let g:gitgutter_diff_base = 'origin/staging'
    endif
    :GitGutterAll
endfunction
'''

###################################lazy#############################

# easy align
[[plugins]]
repo = 'junegunn/vim-easy-align'
lazy = true
hook_add = '''
xmap ga <Plug>(EasyAlign)
nmap ga <Plug>(EasyAlign)
'''

# ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®ä½ç½®ã‚’ç›´ã™
[[plugins]]
repo = "pangloss/vim-javascript"
lazy = true

# fã§æ¤œç´¢å¾Œç§»å‹•ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
[[plugins]]
repo = 'rhysd/clever-f.vim'
lazy = true

# å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—
[[plugins]]
repo = 'pechorin/any-jump.vim'
lazy = true
hook_add = '''
let g:any_jump_window_width_ratio  = 0.9
let g:any_jump_window_height_ratio = 0.9
let g:any_jump_max_search_results = 20
" Normal mode: Jump to definition under cursor
nnoremap <C-j> :AnyJump<CR>

" Visual mode: jump to selected text in visual mode
xnoremap <C-j> :AnyJumpVisual<CR>

" Normal mode: open previous opened file (after jump)
nnoremap <C-b> :AnyJumpBack<CR>

" Normal mode: open last closed search window again
"nnoremap <C-al> :AnyJumpLastResults<CR>
'''




#[[plugins]]
#repo = 'juliosueiras/vim-terraform-completion'
#
#[[plugins]]
#repo = 'MaxMEllon/vim-jsx-pretty'
#
#[[plugins]]
#repo = 'styled-components/vim-styled-components'
#
#[[plugins]]
#repo = 'rust-lang/rust.vim'
#
# copilot for nvim
# lazyã§å‹•ã‹ãªã„
# å‹•ã‹ãªããªã£ãŸã‚‰ copilot log ã§ç¢ºèªã™ã‚‹(å¤§ä½“ å…¥ã‚ŒãªãŠã›ã°ç›´ã‚‹)
[[plugins]]
repo = 'github/copilot.vim'
hook_source = '''
" ç¢ºå®šã‚­ãƒ¼ã‚’TABã‹ã‚‰C-lã«å¤‰æ›´
imap <silent><script><expr> <C-l> copilot#Accept("\<CR>")
let g:copilot_no_tab_map = v:true
echo "ready copilot"
'''

[[plugins]]
repo = 'kylechui/nvim-surround'
lua_add = '''
require("nvim-surround").setup({
   keymaps = {
       insert = "<C-g>s",
       insert_line = "<C-g>S",
       normal = "e",
       normal_cur = "es",
       normal_line = "yS",
       normal_cur_line = "ySS",
       visual = "S",
       visual_line = "gS",
       delete = "ds",
       change = "cs",
   }
})
'''

# coc
# å‹•ã‹ãªããªã£ãŸã‚‰â†“ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ç«‹ã¡ä¸Šã’ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚¤ãƒ³ã—ã¦ç«‹ã¡ä¸Šã’ã‚Œã°ç›´ã‚‹
[[plugins]]
repo = 'neoclide/coc.nvim'
rev = 'release'
on_i = 1
merged = '0'
hook_add = '''
" ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚å®Ÿè¡Œ
" call coc#util#install()
" pip install pynvim

" Give more space for displaying messages. å¿…è¦ã‹ã‚‚ã—ã‚Œãªã„
set cmdheight=2

" ã‚¿ã‚¤ãƒ”ãƒ³ã‚°çµ‚äº†å¾Œã™ãã«åæ˜ ã™ã‚‹
set updatetime=200

" è£œå®Œç³»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ãªã„
set shortmess+=c

"ç”»é¢ã‚’ã‚¬ã‚¿ã‚¬ã‚¿è¨€ã‚ã›ãªã„
set signcolumn=yes

" è£œå®Œè¡¨ç¤ºæ™‚ã®Enterã§æ”¹è¡Œã‚’ã—ãªã„
inoremap <silent><expr> <cr> pumvisible() ? coc#_select_confirm()
                              \: "\<C-g>u\<CR>\<c-r>=coc#on_enter()\<CR>"

" å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—
nmap <silent> gd <Plug>(coc-definition)
" å‹å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—
nmap <silent> gt <Plug>(coc-type-definition)
" grep
nmap <silent> gr <Plug>(coc-references)

" æƒ…å ±è¡¨ç¤º
function! s:show_documentation()
  if (index(['vim','help'], &filetype) >= 0)
    execute 'h '.expand('<cword>')
  elseif (coc#rpc#ready())
    call CocActionAsync('doHover')
  else
    execute '!' . &keywordprg . " " . expand('<cword>')
  endif
endfunction
nnoremap <silent> K :call <SID>show_documentation()<CR>

" ãƒªãƒãƒ¼ãƒ 
nmap cn <Plug>(coc-rename)

" ã‚³ãƒ¼ãƒ‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³(å…¨ã¦)
nmap cc  <Plug>(coc-codeaction)

" ã‚³ãƒ¼ãƒ‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³(ç‰¹å®šæ“ä½œ)
xmap cd  <Plug>(coc-codeaction-selected)
nmap cd  <Plug>(coc-codeaction-selected)

" Apply AutoFix to problem on the current line.
nmap cq  <Plug>(coc-fix-current)

" Format selected code.
xmap cf  <Plug>(coc-format-selected)
nmap cf  <Plug>(coc-format-selected)

":Format all
command! -nargs=0 Format :call CocAction('format')

":ORã§ organize imports (ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ä¸è¦å‰Šé™¤ã—ãŸã‚Šã€ä¸¦ã³æ›¿ãˆãŸã‚Šã™ã‚‹)
command! -nargs=0 OR   :call     CocActionAsync('runCommand', 'editor.action.organizeImport')

" Show all diagnostics.
nnoremap <silent><nowait> dg  :<C-u>CocList diagnostics<cr>

" Use `[d` and `]d` to navigate diagnostics
nmap <silent> [d <Plug>(coc-diagnostic-prev)
nmap <silent> ]d <Plug>(coc-diagnostic-next)

let g:coc_global_extensions = ['coc-tsserver', '@yaegassy/coc-volar', 'coc-go', 'coc-phpls', 'coc-rust-analyzer', 'coc-diagnostic', 'coc-snippets', 'coc-tabnine', '@yaegassy/coc-tailwindcss3', 'coc-webview', 'coc-markdown-preview-enhanced']

"""""""""coc-snippets
inoremap <silent><expr> <TAB>
      \ pumvisible() ? coc#_select_confirm() :
      \ coc#expandableOrJumpable() ? "\<C-r>=coc#rpc#request('doKeymap', ['snippets-expand-jump',''])\<CR>" :
      \ <SID>check_back_space() ? "\<TAB>" :
      \ coc#refresh()

function! s:check_back_space() abort
  let col = col('.') - 1
  return !col || getline('.')[col - 1]  =~# '\s'
endfunction

echo "ready coc"
'''
# terraform-lsp required
## download lsp and pathing
# coc-solargraph
## sudo gem install solargraph
# coc-perl
